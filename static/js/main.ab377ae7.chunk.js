(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],[,,,,,,,,,function(e,t,c){},,,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(10),a=c.n(s),n=c(8),r=c(2),i=c(1),l=(c(15),c(9),c(0)),o=function(e){var t=e.favoriteSize,c=e.withdrawSize;return Object(l.jsx)("header",{className:"header",children:Object(l.jsxs)("div",{className:"header__content",children:[Object(l.jsxs)("div",{className:"header__right",children:[Object(l.jsx)("div",{className:"logo",children:Object(l.jsx)("a",{href:"/",className:"logo__link",children:Object(l.jsx)("img",{src:"/img/header/logo.svg",alt:"logo",className:"logo__img"})})}),Object(l.jsx)("nav",{className:"nav",children:Object(l.jsxs)("ul",{className:"nav__list",children:[Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"/",className:"nav__link is-active",children:"Home"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"/",className:"nav__link",children:"Phones"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"/",className:"nav__link",children:"Tablets"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"/",className:"nav__link",children:"Accessories"})})]})})]}),Object(l.jsxs)("div",{className:"header__left",children:[Object(l.jsxs)("a",{href:"/",className:"header__icon",children:[t>0&&Object(l.jsx)("p",{className:"header__ellipse",children:t}),Object(l.jsx)("img",{src:"/img/header/favorite(Stroke).svg",alt:"Favorite"})]}),Object(l.jsxs)("a",{href:"/",className:"header__icon",children:[c>0&&Object(l.jsx)("p",{className:"header__ellipse",children:c}),Object(l.jsx)("img",{src:"/img/header/withdraw.svg",alt:"Withdraw"})]})]})]})})},j=(c(17),c(6)),d=c(4),m=c.n(d),u=(c(18),function(e){var t=e.imgs,c=Object(i.useRef)(null),s=Object(i.useRef)(null),a=Object(i.useState)(1),n=Object(r.a)(a,2),o=n[0],d=n[1],u=Object(i.useState)(0),h=Object(r.a)(u,2),b=h[0],_=h[1],O=Object(i.useMemo)((function(){if(t.length>1){var e=t.map((function(e){return Object(l.jsx)("li",{className:"carousel__slide",children:Object(l.jsx)("img",{src:e.path,alt:e.desc})},e.id)}));return[Object(l.jsx)("li",{className:"carousel__slide",children:Object(l.jsx)("img",{src:t[t.length-1].path,alt:t[t.length-1].desc})},t[0].id-1)].concat(Object(j.a)(e),[Object(l.jsx)("li",{className:"carousel__slide",children:Object(l.jsx)("img",{src:t[0].path,alt:t[0].desc})},t[t.length-1].id+1)])}return Object(l.jsx)("li",{className:"carousel__slide",children:t[0]})}),[t]),x=Object(i.useCallback)((function(e){c.current&&(c.current.style.transitionDuration="400ms","prev"===e?o<=1?(_(0),d(t.length)):(_(c.current.clientWidth*(o-1)),d((function(e){return e-1}))):"next"===e&&(o>=t.length?(_(c.current.clientWidth*(t.length+1)),d(1)):(_(c.current.clientWidth*(o+1)),d((function(e){return e+1})))))}),[o,t]);return Object(i.useEffect)((function(){var e=function(){c.current&&(o<=1&&(c.current.style.transitionDuration="0ms",_(c.current.clientWidth*o)),o>=t.length&&(c.current.style.transitionDuration="0ms",_(c.current.clientWidth*t.length)))};return document.addEventListener("transitionend",e),function(){document.removeEventListener("transitionend",e)}}),[o,t]),Object(i.useLayoutEffect)((function(){c.current&&_(c.current.clientWidth*o)}),[]),Object(i.useEffect)((function(){return s.current&&clearInterval(s.current),s.current=setInterval((function(){x("next")}),5e3),function(){s.current&&clearInterval(s.current)}}),[x]),Object(l.jsxs)("div",{className:"carousel",children:[Object(l.jsxs)("div",{className:"carousel__body",children:[Object(l.jsx)("button",{type:"button",className:"carousel__button",onClick:function(){return x("prev")},children:Object(l.jsx)("img",{src:"./img/Vector (Stroke).svg",alt:"Prev"})}),Object(l.jsx)("div",{className:"carousel__wrapper",children:Object(l.jsx)("ul",{ref:c,className:"carousel__container",style:{transform:"translate3d(".concat(-b,"px, 0, 0)")},children:O})}),Object(l.jsx)("button",{type:"button",className:"carousel__button",onClick:function(){return x("next")},children:Object(l.jsx)("img",{src:"./img/Vector (Stroke).svg",alt:"Next",className:"carousel__mirrored"})})]}),Object(l.jsx)("div",{className:"carousel__info",children:t.map((function(e,t){return Object(l.jsx)("div",{className:m()("carousel__info-tile",{"carousel__active-tile":t+1===o})},Math.random())}))})]})}),h=function(){return Object(l.jsx)("section",{className:"novelties",children:Object(l.jsx)(u,{imgs:[{id:1,path:"/img/banner.png",desc:"photo 1"},{id:2,path:"/img/banner.png",desc:"photo 1"},{id:3,path:"/img/banner.png",desc:"photo 1"}]})})},b=(c(19),function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsxs)("div",{className:"container footer__content",children:[Object(l.jsx)("div",{className:"footer__logo",children:Object(l.jsx)("a",{href:"/",className:"footer__link",children:Object(l.jsx)("img",{src:"/img/header/logo.svg",alt:"logo"})})}),Object(l.jsx)("div",{className:"footer__contacts",children:Object(l.jsx)("nav",{className:"nav",children:Object(l.jsxs)("ul",{className:"nav__list",children:[Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"/",className:"nav__link",children:"Github"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"/",className:"nav__link",children:"Contacts"})}),Object(l.jsx)("li",{className:"nav__item",children:Object(l.jsx)("a",{href:"/",className:"nav__link",children:"Rights"})})]})})}),Object(l.jsxs)("a",{href:"/",className:"footer__to-top",children:[Object(l.jsx)("h3",{className:"footer__to-top-text",children:"Back to top"}),Object(l.jsx)("div",{className:"footer__to-top-button",children:Object(l.jsx)("img",{src:"/img/Vector (Stroke).svg",alt:"to top",className:"footer__arrow"})})]})]})})}),_=(c(20),c(21),function(e){var t=e.item,c=e.addFavorite,s=e.addWithdraw,a=function(e){"favorite"===e?c(t.id):"withdraw"===e&&s(t.id)};return Object(l.jsxs)("div",{className:"item",children:[Object(l.jsxs)("div",{className:"item__header",children:[Object(l.jsx)("div",{className:"item__photo-container",children:Object(l.jsx)("img",{src:"../../images/Banner.png",alt:t.id,className:"item__photo"})}),Object(l.jsx)("h2",{className:"item__title",children:t.name})]}),Object(l.jsxs)("div",{className:"item__body",children:[Object(l.jsx)("div",{className:"item__price",children:t.discount?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{className:"item__counted",children:Math.ceil(t.price*((100-t.discount)/100))}),Object(l.jsx)("p",{className:"item__initial-price",children:t.price})]}):Object(l.jsx)("p",{className:"item__counted",children:t.price})}),Object(l.jsx)("div",{className:"item__specs specs",children:Object(l.jsxs)("ul",{className:"item__specs specs__list",children:[Object(l.jsxs)("li",{className:"specs__item",children:[Object(l.jsx)("p",{className:"specs__name",children:"Screen"}),Object(l.jsx)("p",{className:"specs__value",children:t.screen})]}),Object(l.jsxs)("li",{className:"specs__item",children:[Object(l.jsx)("p",{className:"specs__name",children:"Capacity"}),Object(l.jsx)("p",{className:"specs__value",children:t.capacity})]}),Object(l.jsxs)("li",{className:"specs__item",children:[Object(l.jsx)("p",{className:"specs__name",children:"RAM"}),Object(l.jsx)("p",{className:"specs__value",children:t.ram})]})]})}),Object(l.jsxs)("div",{className:"item__buttons",children:[Object(l.jsx)("button",{type:"button",className:"item__buy",onClick:function(){return a("withdraw")},children:"Add to cart"}),Object(l.jsx)("button",{type:"button",className:"item__favorite",onClick:function(){return a("favorite")},children:Object(l.jsx)("img",{src:"/img/ShopItem/favorite".concat(t.favorite?"(filled)":"",".svg"),alt:"add to favorite"})})]})]})]})}),O=(c(22),function(e){var t=e.title,c=e.items,s=e.addFavorite,a=e.addWithdraw,n=Object(i.useState)(0),o=Object(r.a)(n,2),j=o[0],d=o[1],u=Object(i.useMemo)((function(){return c?Math.ceil(c.length/4):0}),[c]),h=function(e){"next"===e&&j<u-1?d((function(e){return e+1})):"prev"===e&&j>0&&d((function(e){return e-1}))};return Object(l.jsxs)("div",{className:"itemCarousel",children:[Object(l.jsxs)("div",{className:"itemCarousel__header",children:[Object(l.jsx)("h2",{className:"itemCarousel__title",children:t}),Object(l.jsxs)("div",{className:"itemCarousel__buttons",children:[Object(l.jsx)("button",{disabled:0===j,className:m()("itemCarousel__button","arrow__reverse",{"itemCarousel__button--disabled":0===j}),type:"button",onClick:function(){return h("prev")},children:Object(l.jsx)("img",{src:"/img/Vector (Stroke).svg",alt:"prev",className:"arrow__reverse"})}),Object(l.jsx)("button",{disabled:j===u-1,className:m()("itemCarousel__button",{"itemCarousel__button--disabled":j===u-1}),type:"button",onClick:function(){return h("next")},children:Object(l.jsx)("img",{src:"/img/Vector (Stroke).svg",alt:"prev",className:"arrow"})})]})]}),Object(l.jsx)("div",{className:"itemCarousel__body",children:Object(l.jsx)("div",{className:"itemCarousel__wrapper",style:{transform:"translateX(".concat(1156*-j,"px)")},children:null===c||void 0===c?void 0:c.map((function(e){return Object(l.jsx)(_,{item:e,addFavorite:s,addWithdraw:a},e.id)}))})})]})}),x=function(e){var t=e.products,c=e.addFavorite,s=e.addWithdraw,a=Object(i.useMemo)((function(){return t.sort((function(e,t){return t.discount-e.discount})).filter((function(e){return e.discount>0}))}),[t]);return Object(l.jsx)("section",{className:"hotPrice",children:a&&Object(l.jsx)(O,{title:"Hot prices",items:a,addFavorite:c,addWithdraw:s})})},f=(c(23),function(e){var t=e.products,c=e.addFavorite,s=e.addWithdraw,a=Object(i.useMemo)((function(){return t.filter((function(e){return e.age<10})).sort((function(e,t){return e.age-t.age}))}),[t]);return Object(l.jsx)("section",{className:"newModels",children:a&&Object(l.jsx)(O,{title:"Brand new models",items:a,addFavorite:c,addWithdraw:s})})}),v=(c(24),function(){return Object(l.jsxs)("section",{className:"category",children:[Object(l.jsx)("h2",{className:"category__title",children:"Shop by category"}),Object(l.jsxs)("ul",{className:"category__list",children:[Object(l.jsxs)("li",{className:"category__item",children:[Object(l.jsx)("img",{src:"/img/Category/phones.jpg",alt:"Phones",className:"category__photo"}),Object(l.jsx)("h2",{className:"category__name",children:"Mobile phones"}),Object(l.jsx)("p",{className:"category__amount",children:"amount"})]}),Object(l.jsxs)("li",{className:"category__item",children:[Object(l.jsx)("img",{src:"/img/Category/tablets.jpg",alt:"Phones",className:"category__photo"}),Object(l.jsx)("h2",{className:"category__name",children:"Tabets"}),Object(l.jsx)("p",{className:"category__amount",children:"amount"})]}),Object(l.jsxs)("li",{className:"category__item",children:[Object(l.jsx)("img",{src:"/img/Category/accessories.jpg",alt:"Phones",className:"category__photo"}),Object(l.jsx)("h2",{className:"category__name",children:"Accessories"}),Object(l.jsx)("p",{className:"category__amount",children:"amount"})]})]})]})}),g=(c(25),function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}),p=function(e){var t=Object(i.useState)(g(e)),c=Object(r.a)(t,2),s=c[0],a=c[1],n=[s,function(t){a((function(e){return[].concat(Object(j.a)(e),[t])})),function(e,t){var c=g(e);c.push(t),localStorage.setItem(e,JSON.stringify(c))}(e,t)}];return n},N=function(){var e=Object(i.useState)(),t=Object(r.a)(e,2),c=t[0],s=t[1],a=p("favorite"),j=Object(r.a)(a,2),d=j[0],m=j[1],u=p("withdraw"),_=Object(r.a)(u,2),O=_[0],N=_[1];Object(i.useEffect)((function(){fetch("https://mate-academy.github.io/react_phone-catalog/api/products.json").then((function(e){if(!e.ok)throw new Error;return e.json()})).then((function(e){return s(e)}))}),[]);var y=Object(i.useMemo)((function(){if(c){var e=function(e,t){var c=g(e);return"string"===typeof t?c.includes(t):t.map((function(e){return c.includes(e)}))}("favorite",c.map((function(e){return e.id})));if("boolean"!==typeof e)return c.map((function(t,c){return Object(n.a)(Object(n.a)({},t),{},{favorite:e[c]})}))}return[]}),[c]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o,{favoriteSize:d.length,withdrawSize:O.length}),Object(l.jsx)("main",{className:"main",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(h,{}),c&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x,{products:y,addFavorite:m,addWithdraw:N}),Object(l.jsx)(v,{}),Object(l.jsx)(f,{products:y,addFavorite:m,addWithdraw:N})]})]})}),Object(l.jsx)(b,{})]})};a.a.render(Object(l.jsx)(N,{}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.ab377ae7.chunk.js.map